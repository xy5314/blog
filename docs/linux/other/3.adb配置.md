---
id: other-adb-config
slug: /other-adb-config
title: adb 使用说明
authors: develop
---

# adb的连接方式

- 手机打开开发者模式
- 数据线连接上手机
- 获取手机列表


# 常用命令

```bash   showLineNumbers
# 获取手机列表
adb devices

# 转发到5555(默认端口)
adb tcpip 5555

# 查询手机的IP地址
adb shell ip addr show wlan0

# adb通过wifi连接到手机
adb connect 192.168.0.155:5555

# 模拟点击
adb shell input tap {x} {y}

# 获取手机电池状态 level就是当前电量
adb shell dumpsys battery

# 截屏并上传到本地电脑 ~/Desktop/screenshot.png 是本地电脑的路径
adb exec-out screencap -p > ~/Desktop/screenshot.png
```


# 投屏软件的选取
手机操作投屏： [QtScrcpy](https://github.com/barry-ran/QtScrcpy)。
键盘映射方案： [ScrcpyKeyMapper](https://w4po.github.io/ScrcpyKeyMapper)。


# 创模的键盘映射json 快捷键是 ～

:::note 
需要将该配置文件放于keymap文件夹里
:::

```json showLineNumbers title="chuangmoKeyMap.json"
{
  "switchKey": "Key_AsciiTilde",
  "keyMapNodes": [
    {
      "comment": "跳跃",
      "type": "KMT_CLICK",
      "pos": {
        "x": 0.9285,
        "y": 0.6081
      },
      "key": "Key_Space",
      "switchMap": false
    },
    {
      "comment": "地图",
      "type": "KMT_CLICK",
      "pos": {
        "x": 0.8656,
        "y": 0.0932
      },
      "key": "Key_M",
      "switchMap": false
    },
    {
      "comment": "移动",
      "type": "KMT_STEER_WHEEL",
      "centerPos": {
        "x": 0.1809,
        "y": 0.7495
      },
      "leftOffset": 0.03817,
      "rightOffset": 0.03817,
      "upOffset": 0.07945,
      "downOffset": 0.07945,
      "leftKey": "Key_A",
      "rightKey": "Key_D",
      "upKey": "Key_W",
      "downKey": "Key_S",
      "switchMap": false
    },
    {
      "comment": "交互",
      "type": "KMT_CLICK",
      "pos": {
        "x": 0.6977,
        "y": 0.6065
      },
      "key": "Key_F",
      "switchMap": false
    },
    {
      "comment": "攻击",
      "type": "KMT_CLICK",
      "pos": {
        "x": 0.8236,
        "y": 0.7495
      },
      "key": "Key_J",
      "switchMap": false
    },
    {
      "comment": "背包",
      "type": "KMT_CLICK",
      "pos": {
        "x": 0.6908,
        "y": 0.9338
      },
      "key": "Key_E",
      "switchMap": false
    },
    {
      "comment": "1",
      "type": "KMT_CLICK",
      "pos": {
        "x": 0.3382,
        "y": 0.9465
      },
      "key": "Key_1",
      "switchMap": false
    },
    {
      "comment": "2",
      "type": "KMT_CLICK",
      "pos": {
        "x": 0.3916,
        "y": 0.9433
      },
      "key": "Key_2",
      "switchMap": false
    },
    {
      "comment": "3",
      "type": "KMT_CLICK",
      "pos": {
        "x": 0.4382,
        "y": 0.9449
      },
      "key": "Key_3",
      "switchMap": false
    },
    {
      "comment": "4",
      "type": "KMT_CLICK",
      "pos": {
        "x": 0.4931,
        "y": 0.9449
      },
      "key": "Key_4",
      "switchMap": false
    },
    {
      "comment": "5",
      "type": "KMT_CLICK",
      "pos": {
        "x": 0.545,
        "y": 0.9433
      },
      "key": "Key_5",
      "switchMap": false
    },
    {
      "comment": "6",
      "type": "KMT_CLICK",
      "pos": {
        "x": 0.5939,
        "y": 0.9401
      },
      "key": "Key_6",
      "switchMap": false
    },
    {
      "comment": "7",
      "type": "KMT_CLICK",
      "pos": {
        "x": 0.6397,
        "y": 0.9385
      },
      "key": "Key_7",
      "switchMap": false
    }
  ],
  "width": 2248,
  "height": 1080
}

```
